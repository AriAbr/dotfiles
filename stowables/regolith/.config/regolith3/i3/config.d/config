
# enable floating windows
for_window [class="com-sonicwall-nixconnect-ConnectApplication"] floating enable
for_window [class="Yad"] floating enable
for_window [title="Sign In - Google Accounts*"] floating enable

# peek
bindsym $mod+Print exec peek

# launcher
bindsym $mod+space exec $(rofi -run-list-command ". ~/.config/i3/list_aliases.sh" -run-command "/bin/bash -i -c '{cmd}'" -show combi -show-icons -display-combi 'Open or Run')

# flameshot
bindsym Print exec flameshot gui

# i3expo
exec_always --no-startup-id ~/.local/bin/i3expod
bindsym $mod+x exec --no-startup-id "killall -s SIGUSR1 i3expod"

# set background images
set $bg_left     ~/.config/i3/backgrounds/smoky3.jpg
set $bg_middle   ~/.config/i3/backgrounds/smoky1.jpg
set $bg_right    ~/.config/i3/backgrounds/smoky2.jpg
exec_always --no-startup-id feh --bg-fill $bg_right $bg_left $bg_middle

# Teams startup
# Before browser to override browser workspace assignment
set $wspTeams "ðŸ’¬ T"
assign [class="Teams"] $wspTeams
assign [class="teams-for-linux"] $wspTeams
assign [title="teams.microsoft.com"] $wspTeams
workspace $wspTeams output eDP-1

# Browser startup
set $wspBrowser "ðŸŒŽ I"
assign [class="Brave-browser"] $wspBrowser
assign [class="Google-chrome"] $wspBrowser
workspace $wspBrowser output eDP-1

# Spotify startup
set $wspSpotify "ðŸŽ§ S"
for_window [class="Spotify"] move to workspace $wspSpotify # assign doesn't work for Spotify. Not sure why...
workspace $wspSpotify output eDP-1

# App workspace keybindings
bindsym $mod+Control+i workspace $wspBrowser
bindsym $mod+Control+t workspace $wspTeams
bindsym $mod+Control+s workspace $wspSpotify
bindsym $mod+Shift+Control+i move container to workspace $wspBrowser
bindsym $mod+Shift+Control+t move container to workspace $wspTeams
bindsym $mod+Shift+Control+s move container to workspace $wspSpotify

# startup programs
exec --no-startup-id tide-punch
exec --no-startup-id teams
set $connectedDisplay $(xrandr -q | grep ' connected' | head -n 1 | cut -d ' ' -f1)
# Initial brightness change does not alwaysget picked up, so change to 0.5 first, then 1.0
exec --no-startup-id system76-power profile battery && xrandr --output $connectedDisplay --brightness 0.5 && xrandr --output $connectedDisplay --brightness 1.0

# scratchpad
# Make the currently focused window a scratchpad
bindsym $mod+Ctrl+minus move scratchpad
# Show the first scratchpad window
bindsym $mod+Ctrl+plus scratchpad show
